<!doctype html><html lang="en"><head>    <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="A Web Interface to the Manifestoproject Classifier">    <title>Inofficial &ndash; Manifesto &ndash; Project &ndash; Classifier</title>	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">	<link rel="stylesheet" href="layout/pure-blog.css"></head><body><div id="layout" class="pure-g">    <div class="sidebar pure-u-1 pure-u-md-1-4">        <div class="header">            <h1 class="brand-title">FYPI</h1>            <h2 class="brand-tagline">Automatisierte Politische Text Analyse</h2>            <nav class="nav">                <ul class="nav-list">                    <li class="nav-item">                        <a class="pure-button" href="webInterface.html">Web Interface</a>                    </li>                    <li class="nav-item">                        <a class="pure-button" href="news.html">Zeitungs Analysen</a>                    </li>                </ul>            </nav>        </div>    </div>    <div class="content pure-u-1 pure-u-md-3-4">        <div>            <!-- A wrapper for all the blog posts -->         <div class="posts">                <h1 class="content-subhead">Analysiere Text</h1>        Hier Text reinpasten: <input class="pure-form" type="text" id="textBox" value="Sicherheit">        <button class="pure-button" onclick="visualize()">Analysiere</button>        <p id=result></p>            </div>        	<div class="posts">            <h1 class="content-subhead">Analysiere Text hinter einem Weblink</h1>            </div>            <div class="footer">                <div class="pure-menu pure-menu-horizontal">                    <ul>                        <li class="pure-menu-item"><a href="http://purecss.io/" class="pure-menu-link">About</a></li>                        <li class="pure-menu-item"><a href="https://github.com/kirel/political-affiliation-prediction" class="pure-menu-link">About</a></li>                        <li class="pure-menu-item"><a href="https://manifestoproject.wzb.eu/" class="pure-menu-link">Manifestoproject</a></li>                    </ul>                </div>            </div>        </div>    </div></div><script type="text/javascript" src="javascript/d3.js"></script><script type="text/javascript">var width = 600,    height = 200,    circleRadius = Math.min(width, height) / 3,    padding = 30,    circleThickness = 30,    tweenDuration = 1050;	var arcs = [];    var pie = d3.layout.pie().value(function(d) {return d.prediction; }).sort(null);	var aspects = ["leftright","domain","manifestocode"]    var colors = {                "leftright":d3.scale.category20(),//function (i){c = [ "#100000","#FF0000"];return c[i]}                "domain":d3.scale.category20(),                "manifestocode":d3.scale.category20()                };    var svg = d3.select("#result").append("svg")        .attr("width", width)        .attr("height", height)	var key = function(d){ return d.label; };    setup();    function setup(){     d3.json("/api/predict")            .header("Content-type", "application/x-www-form-urlencoded")            .post("text=  ", function(error, prediction) {        for (a in aspects) {            arcs[a] = d3.svg.arc()                    .innerRadius(circleRadius - circleThickness)                    .outerRadius(circleRadius)            svg.append("g").attr("class",aspects[a])                .attr("transform", "translate(" + (a * ((width/4.0)+padding) + (circleRadius)) + "," + height / 2 + ")")            svg.selectAll("g."+aspects[a]).selectAll("path")                .data(pie(prediction[aspects[a]]))              .enter()               .append("path").attr("class", function(d) {return d.label})            .attr("fill", function(d, i) {return colors[aspects[a]](i); })                .attr("d", arcs[a])                 .each(function(d) {this._current = d; })                 .append("svg:title")                           .text(function(d,i){return tipString(prediction[aspects[a]][i]);})        }    })    }    function tipString(p){return p.label+": "+ Math.round(p.prediction*100.0)/100;}	function midAngle(d){			return d.startAngle + (d.endAngle - d.startAngle)/2;		}    function visualize(){        var queryText = document.getElementById("textBox").value            d3.json("/api/predict")            .header("Content-type", "application/x-www-form-urlencoded")            .post("text="+queryText, function(error, prediction) {        for (a in aspects) {        	arc = arcs[a]            paths = svg            	.selectAll("g."+aspects[a])            	.selectAll("path")            	.data(pie(prediction[aspects[a]]));            paths.enter().append("svg:path")            	.attr("d", arc)				 .select("title")				 .text(function(d,i){return tipString(prediction[aspects[a]][i]);})            paths.transition()            	.duration(tweenDuration)				.attrTween("d", arcTween).select("title")				 .text(function(d,i){return tipString(prediction[aspects[a]][i]);});			paths.exit()			  .remove();			// get maximum prediction			var maxPred = {label:"",prediction:0.0}			for (key in prediction[aspects[a]]){			if (maxPred.prediction < prediction[aspects[a]][key].prediction) {			maxPred.label = prediction[aspects[a]][key].label;			maxPred.prediction = prediction[aspects[a]][key].prediction;}			}			// show maximum prediction			svg.select("g."+aspects[a]).select("text").remove()			svg.select("g."+aspects[a])				.append("text")				.attr("dy", ".0001em")				.text(maxPred.label +": "+ Math.round(maxPred.prediction*100.0)/100)				.attr("transform", "translate(" + (-circleRadius) + "," + (circleRadius + 30) + ")")				.attr("style","text-align: center");        }    })    }// Store the currently-displayed angles in this._current.// Then, interpolate from this._current to the new angles.function arcTween(a) {  var i = d3.interpolate(this._current, a);  this._current = i(0);  return function(t) {    return arc(i(t));  };}</script></body></html>